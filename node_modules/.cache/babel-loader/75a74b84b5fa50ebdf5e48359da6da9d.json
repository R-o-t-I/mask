{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"photos\", \"visibleCount\", \"size\", \"layout\", \"children\"];\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport * as React from \"react\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport { classNames } from \"../../lib/classNames\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nimport Caption from \"../Typography/Caption/Caption\";\nimport Subhead from \"../Typography/Subhead/Subhead\";\nimport { createMasks } from \"./masks\";\nimport { useDOM } from \"../../lib/dom\";\n\nvar UsersStack = function UsersStack(props) {\n  var platform = usePlatform();\n\n  var _props$photos = props.photos,\n      photos = _props$photos === void 0 ? [] : _props$photos,\n      _props$visibleCount = props.visibleCount,\n      visibleCount = _props$visibleCount === void 0 ? 0 : _props$visibleCount,\n      size = props.size,\n      layout = props.layout,\n      children = props.children,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var _useDOM = useDOM(),\n      document = _useDOM.document;\n\n  useIsomorphicLayoutEffect(function () {\n    createMasks(document);\n  }, [document]);\n  var othersCount = Math.max(0, photos.length - visibleCount);\n  var canShowOthers = othersCount > 0 && size === \"m\";\n  var photosShown = photos.slice(0, visibleCount);\n  return createScopedElement(\"div\", _extends({}, restProps, {\n    vkuiClass: classNames(getClassName(\"UsersStack\", platform), \"UsersStack--size-\".concat(size), \"UsersStack--l-\".concat(layout), {\n      \"UsersStack--others\": canShowOthers\n    })\n  }), createScopedElement(\"div\", {\n    vkuiClass: \"UsersStack__photos\",\n    role: \"presentation\"\n  }, photosShown.map(function (photo, i) {\n    return createScopedElement(\"div\", {\n      key: i,\n      vkuiClass: \"UsersStack__photo\",\n      style: {\n        backgroundImage: \"url(\".concat(photo, \")\")\n      }\n    });\n  }), canShowOthers && createScopedElement(Caption, {\n    weight: \"medium\",\n    level: \"1\",\n    vkuiClass: \"UsersStack__photo UsersStack__photo--others\",\n    \"aria-hidden\": \"true\"\n  }, createScopedElement(\"span\", null, \"+\", othersCount))), hasReactNode(children) && createScopedElement(Subhead, {\n    Component: \"span\",\n    vkuiClass: \"UsersStack__text\"\n  }, children));\n};\n\nUsersStack.defaultProps = {\n  photos: [],\n  size: \"s\",\n  visibleCount: 3,\n  layout: \"horizontal\"\n}; // eslint-disable-next-line import/no-default-export\n\nexport default /*#__PURE__*/React.memo(UsersStack);","map":null,"metadata":{},"sourceType":"module"}